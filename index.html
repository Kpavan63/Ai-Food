<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Cooking Assistant</title>
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        select, input, button {
            display: block;
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background-color: #5cb85c;
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #4cae4c;
        }
        .food-grid, .ingredient-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        .food-item, .ingredient-item {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .food-item:hover, .ingredient-item:hover {
            transform: scale(1.05);
        }
        .food-item img, .ingredient-item img {
            max-width: 100%;
            height: auto;
        }
        #videoFeed {
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
            display: block;
        }
        .hidden {
            display: none;
        }
        #nextStep {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AI Cooking Assistant</h1>
        <div id="countrySelection">
            <select id="countrySelect">
                <option value="">Select Country</option>
                <option value="india">India</option>
            </select>
        </div>
        <div id="stateSelection" class="hidden">
            <select id="stateSelect">
                <option value="">Select State</option>
            </select>
        </div>
        <div id="foodSelection" class="hidden">
            <div class="food-grid" id="foodGrid"></div>
        </div>
        <div id="memberCount" class="hidden">
            <input type="number" id="memberInput" placeholder="Number of people eating">
            <button id="memberSubmit">Submit</button>
        </div>
        <div id="ingredients" class="hidden">
            <h2>Ingredients</h2>
            <div class="ingredient-grid" id="ingredientGrid"></div>
            <button id="startCooking">Start Cooking</button>
        </div>
        <div id="cookingInstructions" class="hidden">
            <h2>Cooking Instructions</h2>
            <video id="videoFeed" autoplay playsinline></video>
            <div id="instructions"></div>
            <select id="languageSelect">
                <option value="UK English Female">English</option>
                <option value="te-IN">Telugu</option>
            </select>
            <button id="nextStep">Next Step</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=YOUR_RESPONSIVE_VOICE_API_KEY"></script>
    <script>
        const countrySelect = document.getElementById('countrySelect');
        const stateSelect = document.getElementById('stateSelect');
        const foodGrid = document.getElementById('foodGrid');
        const memberInput = document.getElementById('memberInput');
        const memberSubmit = document.getElementById('memberSubmit');
        const ingredientGrid = document.getElementById('ingredientGrid');
        const startCooking = document.getElementById('startCooking');
        const videoFeed = document.getElementById('videoFeed');
        const instructions = document.getElementById('instructions');
        const languageSelect = document.getElementById('languageSelect');
        const nextStepButton = document.getElementById('nextStep');

        const states = {
            india: ['Andhra Pradesh', 'Kerala']
        };

        const foods = {
            'Andhra Pradesh': [
                { name: 'Chicken Biryani', image: '/placeholder.svg?height=100&width=100' },
                { name: 'Pulihora', image: '/placeholder.svg?height=100&width=100' }
            ],
            'Kerala': [
                { name: 'Kerala Fish Curry', image: '/placeholder.svg?height=100&width=100' },
                { name: 'Appam', image: '/placeholder.svg?height=100&width=100' }
            ]
        };

        const ingredients = {
            'Chicken Biryani': [
                { name: 'Chicken', image: '/placeholder.svg?height=50&width=50' },
                { name: 'Basmati Rice', image: '/placeholder.svg?height=50&width=50' },
                { name: 'Spices', image: '/placeholder.svg?height=50&width=50' }
            ]
        };

        const cookingSteps = [
            "Prepare all ingredients",
            "Marinate the chicken with yogurt and spices",
            "Parboil the rice and drain",
            "In a large pot, layer the marinated chicken and parboiled rice",
            "Cook on low heat for 25-30 minutes",
            "Let it rest for 10 minutes before serving"
        ];

        let currentStep = 0;

        function animateElement(element) {
            anime({
                targets: element,
                opacity: [0, 1],
                translateY: [20, 0],
                duration: 500,
                easing: 'easeOutQuad'
            });
        }

        countrySelect.addEventListener('change', (e) => {
            const country = e.target.value;
            if (country) {
                stateSelect.innerHTML = '<option value="">Select State</option>';
                states[country].forEach(state => {
                    const option = document.createElement('option');
                    option.value = state;
                    option.textContent = state;
                    stateSelect.appendChild(option);
                });
                document.getElementById('stateSelection').classList.remove('hidden');
                animateElement(document.getElementById('stateSelection'));
            }
        });

        stateSelect.addEventListener('change', (e) => {
            const state = e.target.value;
            if (state) {
                foodGrid.innerHTML = '';
                foods[state].forEach(food => {
                    const foodItem = document.createElement('div');
                    foodItem.className = 'food-item';
                    foodItem.innerHTML = `
                        <img src="${food.image}" alt="${food.name}">
                        <p>${food.name}</p>
                    `;
                    foodItem.addEventListener('click', () => selectFood(food.name));
                    foodGrid.appendChild(foodItem);
                });
                document.getElementById('foodSelection').classList.remove('hidden');
                animateElement(document.getElementById('foodSelection'));
            }
        });

        function selectFood(foodName) {
            document.getElementById('memberCount').classList.remove('hidden');
            animateElement(document.getElementById('memberCount'));
            localStorage.setItem('selectedFood', foodName);
        }

        memberSubmit.addEventListener('click', () => {
            const members = memberInput.value;
            if (members) {
                const selectedFood = localStorage.getItem('selectedFood');
                ingredientGrid.innerHTML = '';
                ingredients[selectedFood].forEach(ingredient => {
                    const ingredientItem = document.createElement('div');
                    ingredientItem.className = 'ingredient-item';
                    ingredientItem.innerHTML = `
                        <img src="${ingredient.image}" alt="${ingredient.name}">
                        <p>${ingredient.name}</p>
                    `;
                    ingredientGrid.appendChild(ingredientItem);
                });
                document.getElementById('ingredients').classList.remove('hidden');
                animateElement(document.getElementById('ingredients'));
            }
        });

        startCooking.addEventListener('click', async () => {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                videoFeed.srcObject = stream;
                document.getElementById('cookingInstructions').classList.remove('hidden');
                animateElement(document.getElementById('cookingInstructions'));
                showNextStep();
            } catch (err) {
                console.error("Error accessing camera:", err);
                Swal.fire({
                    title: 'Camera Access Error',
                    text: 'Unable to access your camera. Please check your permissions and try again.',
                    icon: 'error',
                    confirmButtonText: 'OK'
                });
            }
        });

        function showNextStep() {
            if (currentStep < cookingSteps.length) {
                const step = cookingSteps[currentStep];
                instructions.innerHTML = `<p>${currentStep + 1}. ${step}</p>`;
                speakInstruction(step);
                currentStep++;
            } else {
                instructions.innerHTML = '<p>Cooking completed! Enjoy your meal!</p>';
                speakInstruction('Cooking completed! Enjoy your meal!');
                nextStepButton.disabled = true;
            }
        }

        function speakInstruction(text) {
            const language = languageSelect.value;
            responsiveVoice.speak(text, language);
        }

        nextStepButton.addEventListener('click', showNextStep);

        languageSelect.addEventListener('change', (e) => {
            const language = e.target.value;
            responsiveVoice.setDefaultVoice(language);
        });

        // Initial welcome message
        Swal.fire({
            title: 'Welcome to AI Cooking Assistant!',
            text: 'Let\'s start cooking together. Are you ready?',
            icon: 'info',
            confirmButtonText: 'Let\'s Cook!'
        }).then((result) => {
            if (result.isConfirmed) {
                responsiveVoice.speak("Welcome to AI Cooking Assistant! Let's start cooking together.", "UK English Female");
            }
        });
    </style>
</body>
        </html>
                                                  </html>
